<canvas id="canvas" width="150" height="150" role="presentation"></canvas>
<script>
  const ctx = document.getElementById("canvas").getContext("2d");
  var canvasWidth = canvas.width;
  var canvasHeight = canvas.height;
  ctx.clearRect(0, 0, canvasWidth, canvasHeight);
  var id = ctx.getImageData(0, 0, canvasWidth, canvasHeight);
  function draw() {
    for (let i = 0; i < 10; i++) {
      ctx.lineWidth = 1 + i;
      ctx.beginPath();
      ctx.moveTo(5 + i * 14, 5);
      ctx.lineTo(5 + i * 14, 140);
      ctx.stroke();
    }
  }
  function draw_pix(x, y, [r, g, b]) {
    var pixels = id.data;
    debugger;
    var off = (y * id.width + x) * 4;
    pixels[off] = r;
    pixels[off + 1] = g;
    pixels[off + 2] = b;
    pixels[off + 3] = 255;
    // ctx.putImageData(id, 0, 0);
  }
    debugger;

  for (let x = 0; x < id.width; x=x+3) {
    debugger;
    for (let y = 0; y < id.height; y++) {
      debugger;
      draw_pix(x, y, [255, 0, 0]);
    }
  }
  draw();
</script>
